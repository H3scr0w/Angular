<mat-card class="my-2 mx-2 mat-elevation-z8" [formGroup]="formGroup">
  <mat-card-header>
    <mat-card-title>DDoS Attacks</mat-card-title>
    <mat-card-subtitle>Detect and stop distributed denial of service attacks on your website</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content class="container">
    <mat-form-field class="mt-2">
      <mat-select placeholder="Select a mode" [(value)]="defaultMode" class="w-25 p-1" formControlName="mode" required>
        <mat-option *ngFor="let mode of modes" [value]="mode">
          {{mode | titlecase}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="formGroup.get('mode')!.hasError('required')">
        Please select one mode
      </mat-error>
    </mat-form-field>
    <mat-form-field class="mt-2">
      <mat-select placeholder="Select a threshold" [(value)]="defaultThreshold" class="w-25 p-1" formControlName="threshold" required>
        <mat-option *ngFor="let threshold of thresholds" [value]="threshold">
          {{threshold}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="formGroup.get('threshold')!.hasError('required')">
        Please select one threshold
      </mat-error>
    </mat-form-field>
  </mat-card-content>
  <mat-card-actions class="text-center">
    <button mat-raised-button color="primary" (click)="save()" [disabled]="formGroup.pristine || formGroup.invalid || !isAdmin">
      Save
      <i *ngIf="saving" class="fas fa-circle-notch fa-spin"></i>
    </button>
  </mat-card-actions>
</mat-card>
